<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Training | Ben Boyette</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<nav class="navbar">
  <a href="index.html">Home</a>
  <a href="engineering.html">Engineering</a>
  <a href="sports.html">Sports</a>
  <a href="training.html">Training</a>
  <a href="notes.html">Notes</a>
</nav>

<main class="container">

  <section class="section">

    <figure class="figure">
      <img src="images/NCSTATE_training.png" alt="NC State training facilities" class="section-img">
      <figcaption class="figcaption">Training at NC State</figcaption>
    </figure>

    <h2>Training</h2>
    <p>
      I enjoy both watching and playing sports, as well as working out.
      This page will eventually include workout ideas, training thoughts,
      and notes on professional sports.
    </p>

  </section>

  <section class="section">
    <h2>Weekly Training Summary</h2>
    <div id="weekly-data">
      <p>Loading data...</p>
    </div>
  </section>

</main>

<script>
  // Replace with your latest Apps Script deployment ID
  const DEPLOYMENT_ID = "AKfycbzhEXbW1K7CxV_bvY-tAw1Cc5PvQrfDrWAnV5jDKy-eJFJzPrMiq6uzN84xkEOJFxX6";
  const WEEKLY_URL = `https://script.google.com/macros/s/${DEPLOYMENT_ID}/exec?sheet=WEEKLY&callback=displayWeekly`;

  // JSONP callback function
  function displayWeekly(data) {
    const container = document.getElementById("weekly-data");
    if (!data || data.length === 0) {
      container.innerHTML = "<p>No data available.</p>";
      return;
    }

    const headers = Object.keys(data[0]);
    let table = "<table><thead><tr>";
    headers.forEach(h => table += `<th>${h}</th>`);
    table += "</tr></thead><tbody>";

    data.forEach(row => {
      table += "<tr>";
      headers.forEach(h => table += `<td>${row[h] !== null ? row[h] : ""}</td>`);
      table += "</tr>";
    });

    table += "</tbody></table>";
    container.innerHTML = table;
  }

  // Load JSONP via script tag
  const script = document.createElement("script");
  script.src = WEEKLY_URL;
  script.onerror = () => {
    const container = document.getElementById("weekly-data");
    container.innerHTML = "<p>Error loading data. Check deployment and ID.</p>";
  };
  document.body.appendChild(script);
</script>


</body>
</html>
