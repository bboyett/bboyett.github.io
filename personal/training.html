<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Training | Ben Boyette</title>
  <link rel="stylesheet" href="../assets/css/styles.css" />
  <script src="../assets/js/main.js" defer></script>
  <style>
    .training-table-container {
      overflow-x: auto;
      background: var(--card-bg);
      border-radius: 20px;
      border: 1px solid var(--card-border);
      padding: 1.5rem;
      box-shadow: var(--shadow-md);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
    }

    th {
      text-align: left;
      padding: 1rem;
      border-bottom: 2px solid var(--card-border);
      color: var(--text-main);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    td {
      padding: 1rem;
      border-bottom: 1px solid var(--card-border);
      color: var(--text-muted);
    }

    tr:last-child td {
      border-bottom: none;
    }

    tr:hover td {
      background: var(--accent-soft);
      color: var(--text-main);
    }
  </style>
</head>

<body>
  <div id="navbar"></div>

  <main class="container">
    <section class="intro">
      <h1>Training & Performance</h1>
      <p>Tracking miles, strength milestones, and consistency in the pursuit of athletic excellence.</p>
    </section>

    <section class="section">
      <div style="display: grid; grid-template-columns: 1fr 1.5fr; gap: 3rem; align-items: center;">
        <figure class="figure" style="margin: 0;">
          <img src="../assets/images/NCSTATE_training.png" alt="NC State"
            style="width: 100%; border-radius: 24px; box-shadow: var(--shadow-lg);">
        </figure>
        <div>
          <h2>Fitness Philosophy</h2>
          <p>Currently focused on a hybrid approach: building explosive strength with a chest focus while maintaining
            cardiovascular endurance through consistent running.</p>
          <p>Consistency is the core metric. Since October, the goal is 3 runs per week, preparing for challenges like
            the Krispy Kreme challenge.</p>
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Weekly Training Log</h2>
      <p style="color: var(--text-muted); font-size: 0.85rem; margin-bottom: 2rem;">Data synced from weekly performance
        logs. Visualizing endurance trends and volume progress.</p>

      <div id="weekly-data" class="training-table-container">
        <p>Initializing training datasets...</p>
      </div>
    </section>
  </main>

  <script>
    const WEEKLY_URL = "../assets/data/dataWEEKLY.json";

    fetch(WEEKLY_URL)
      .then(res => res.ok ? res.json() : Promise.reject())
      .then(data => {
        const container = document.getElementById("weekly-data");
        if (!data?.length) {
          container.innerHTML = "<p>No training logs found.</p>";
          return;
        }

        const headers = Object.keys(data[0]);
        let table = "<table><thead><tr>";
        headers.forEach(h => table += `<th>${h}</th>`);
        table += "</tr></thead><tbody>";

        data.forEach(row => {
          table += "<tr>";
          headers.forEach(h => table += `<td>${row[h] !== null ? row[h] : ""}</td>`);
          table += "</tr>";
        });

        table += "</tbody></table>";
        container.innerHTML = table;
      })
      .catch(() => {
        document.getElementById("weekly-data").innerHTML = "<p>Unable to load local training data.</p>";
      });
  </script>
</body>

</html>