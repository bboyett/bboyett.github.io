<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stats Dashboard | Ben Boyette</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      max-width: 800px;
      margin: 40px auto;
      font-family: system-ui, sans-serif;
    }
    h2 {
      margin-top: 30px;
    }
    ul {
      padding-left: 20px;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

<h1>Stats Dashboard</h1>

<div id="dashboard">
  <h2>Page Views</h2>
  <ul id="page-views"></ul>

  <h2>Audio Plays</h2>
  <ul id="audio-plays"></ul>
</div>

<script>
  const IS_ADMIN = false; // CHANGE TO true WHEN YOU WANT ACCESS

  if (!IS_ADMIN) {
    document.body.innerHTML =
      "<h2 style='text-align:center;margin-top:40vh;'>Access denied</h2>";
  }



  const pageViews = JSON.parse(localStorage.getItem("views") || "{}");
  const audioPlays = JSON.parse(localStorage.getItem("plays") || "{}");

  const pageViewsList = document.getElementById("page-views");
  const audioPlaysList = document.getElementById("audio-plays");

  for (const page in pageViews) {
    const li = document.createElement("li");
    li.textContent = `${page}: ${pageViews[page]} views`;
    pageViewsList.appendChild(li);
  }

  for (const track in audioPlays) {
    const li = document.createElement("li");
    li.textContent = `${track}: ${audioPlays[track]} plays`;
    audioPlaysList.appendChild(li);
  }
</script>

</body>
</html>
